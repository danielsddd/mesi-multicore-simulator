I am building a Multi-Core MESI Simulator. I have a Python test script (test.py) that currently performs basic "happy path" testing (about 47 simple tests).

The Goal: I need you to rewrite and expand the test.py suite to be exhaustive. I want to catch edge cases, logic errors, and pipeline bugs that simple tests miss.

Please expand the test suite to cover the following specific areas:

Exhaustive Opcode Coverage:

Do not just test ADD and SUB. Create a loop or structure that validates every single defined opcode in the configuration (including all branch variations: BEQ, BNE, BLT, BGT, BLE, BGE, and LW, SW, JAL).

Test them with edge-case values (Positive, Negative, Zero, Max Int, Min Int).

Advanced MESI Coherence & Snooping:

The current tests are too simple. Create a "Ping Pong" test where Core 0 and Core 1 alternately write to the same memory address to force rapid ownership changes (Modified -> Shared -> Modified).

Test cache eviction: Fill a cache set completely to force a write-back (WB) to memory, then read it back from another core.

Pipeline Hazard Stress:

Test "Distance 1" hazards (Instruction immediately follows dependency).

Test "Distance 2" hazards (Instruction has one gap between dependency).

Test Load-Use hazards (loading a value and using it immediately, triggering a stall).

Register Integrity:

Verify that R0 is effectively immutable (always reads 0) even if we try to write to it.

Verify R1 immediate update logic works for complex negative numbers.

you may add other checks subjects according to the assignment pdf or project_details.txt file

Output: Please provide the full, updated test.py code with these advanced test cases added to the existing structure.